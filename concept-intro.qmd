# Conceptual modelling of processes {#concept-intro}

Let us have a taste of the first and most important stages in the application of simulation, **system definition** and **model design**, to archaeology topics.

Given a general topic of interest associated with a specific type of archaeological evidence, we must develop a conceptual model that includes a definition of the minimum features of a phenomenon or system (*representation*), with the aim of its mathematical formalization (*mechanism*). So that it contributes to the answer to one or more research questions or to refute or reformulate a working hypothesis (*validation*).

<figure>
<img src="https://github.com/Andros-Spica/modelling-simulation-graphs/blob/main/representation-and-validation/representation-and-validation.png?raw=true" alt="representation and validation in explanatory models in archaeology" class="fragment" style="width: 550px; border: none; box-shadow: none; margin-bottom: 0%; background-color: azure;"/><br>
<fig-caption> Representation and validation in explanatory models in archaeology</fig-caption>
</figure>

Conceptual modelling reflects the exploratory nature of explanatory modelling. In this context, we should consider the maximum number of potential explanations and subsequently prioritise those that are arguably or demonstrably more likely, all given the limits of our knowledge. When building a model, we should include additional elements parsimoniously and keep in mind that this conceptual definition should help us create a computational model (*implementation*) that is both intelligible and computable within a reasonable time frame.

When creating your first conceptual model, I recommend starting from scratch with the first intuition that comes to mind. After later scrutiny, its logical structure may be oversimplified, incomplete, or faulty. However, it would most likely represent the main elements of an informal model that you and other researchers share. Relying on an informed guess to start model development is the best remedy for the "blank page panic". It will also help you avoid overthinking and overworking what should be a mere preliminary sketch of the model.

Said this, we might still suffer when trying to jump-start the modelling process. Even if (or maybe especially when) a sizeable interdisciplinary team is involved, such is often the case in ABM-related projects.

## Considering archaeological evidence and its interpretations (*explanations*)

```{r, echo=FALSE}
explanation_examples_table <- rbind.data.frame(
  c(
    "distribution and size of settlements",
    "subsistence, demographic growth dependent on environmental factors, mobility and sedentary lifestyle",
    "[logistic function](https://es.wikipedia.org/wiki/Funci%C3%B3n_log%C3%ADstica), areas of influence and catchment, competition between settlements"
  ),
  c(
    "funerary context (number and style of artefacts, determination of age and sex, morphological and genetic proximity between individuals, etc.)",
    "ritual burial of certain individuals (beliefs, population composition, asymmetries and inequalities, etc.), mortality (frequency, contexts), decision making and logistics regarding funerary practice",
    "institutionalisation of prestige and authority status, effects of taboo on logistical stages of burial, inequality between kinship groups"
  ),
  c(
    "detection of organic residues on the surface of ceramic vessels",
    "production (surface treatment) and use of vessels (storage, cooking, food consumption), decision making in production, selection of recipes and dietary components",
    "residue signal (quantified) as a function of type of use"
  ),
  c(
    "distribution and diversity of varieties of a very common type of artefacts (lithic instruments, ceramics, etc.)",
    "movements of people and artefactss, cultural transmission of ways of producing and/or using said artefactss",
    "cultural transmission (drift), prestige and functional selection"
  ),
  c(
    "frequency of species in charcoal between the strata of a deposit",
    "climate changes that limit or enhance growth by species, selective size, fires, deforestation",
    "plant growth by species group that explicitly accounts for recurrent clearing"
  ),
  c(
    "oldest C14 dating of the presence of domesticated plants and animals in sites distributed throughout a region",
    "demographic growth and migration, interaction between groups with and without domestication (exchange, assimilation, conflict, etc.)",
    "competition for habitat between agropastoral groups and hunter-gatherers"
  ),
  c(
    "volume of a mineral extracted in a deposit with mining, duration of occupation and activity",
    "subsistence and liberation of labour, decision making on mining intensity, use and exchange of minerals",
    "economy of scale and diminishing returns"
  )
)

names(explanation_examples_table) <- c(
  "archaeological evidence",
  "phenomena in the past",
  "mechanisms"
)
```

Archaeological evidence can be interpreted to understand past phenomena, and these interpretations often involve proposing underlying mechanisms. The relationship between evidence, phenomenon, and mechanism can be understood as follows:

* **Evidence**: This refers to the physical remains or data that archaeologists uncover. This can include artefacts, structures, or environmental data. Pieces of evidence vary in level of description, from pottery styles to the position of fortifications and the abundance of animal species. They also vary in the methods used to define them, like visual analysis, geometric analysis, 3D scanning, and GPS.

* **Phenomenon**: The phenomenon is the pattern or process inferred from the evidence. It is the "what" that happened, based on the interpretation of the evidence, but also the benchmark definition of reality, based in a much longer list of experiences and confirmed knowledge. For instance, variations in pottery style can represent exchange, the position of fortifications can represent strategic decision-making, and a decrease in a wild animal population can represent human hunting.

* **Mechanism**: The mechanism is the causal explanation of why the phenomenon occurred. It involves identifying the processes or interactions that led to the observed pattern. This is the "why" behind the phenomenon. Mechanisms are expressed through causal relationships between variables, often including underlying assumptions. For example, variations in pottery styles can be explained by increased trade with another region, the positioning of fortifications can be explained by differential visibility, and a decrease in animal population can be explained by overhunting.

The following table offers some additional examples:

```{r, echo=FALSE}
knitr::kable(explanation_examples_table)
```

There are at least three ways to begin this stage:

- **From evidence to mechanism** (from left to right in the table): You may prefer to first think about a set of types of archaeological evidence, perhaps a type that one is most familiar with or that can be found in a specific site or dataset. Once the evidence is delimited, you can then identify what is the most likely and/or strongest explanation, first in terms of the phenomenon and then as a generative process (left to right in the table). With sufficient effort and time, the worst-case scenario when taking this path is to obtain a weak explanatory model, one that does not offer a realistic representation of the phenomenon, but may provide further insight into patterns of evidence (i.e., a descriptive model).  
- **From phenomenon to evidence and mechanism** (middle to left and right in the table): It is equally valid to start by considering a phenomenon that has been extensively documented, studied, and defined in other disciplines (e.g., trade, from an economic and anthropological perspective). In choosing a phenomenon, you must be able to assume it existed in a particular context in the past and that there are domains of evidence that could support or undermine such an explanation. The worst-case scenario here would be to have a "toy model", one that represents the current knowledge of a phenomenon and can be used to investigate it, but cannot be readily assumed for the past, nor is it directly validated with archaeological evidence.  
- **From mechanism to phenomenon and evidence** (right to left in the table): The last and more opportunistic option is to focus first on a mechanism that has already been described and/or formalised, consider a phenomenon it can represent and search for a type of evidence where signals of this mechanism can be detected. Taking this path demands a specific knowledge of modelling and models, preferably in multiple fields and disciplines, but it is a relatively safe path: the worse case is to end up concluding that the selected mechanism, alone at least, does not explain the patterns observed in the selected evidence -- a small, but steady contribution.

In all routes, there are **no shortcuts**: the robustness of the explanation will depend on the depth and width of the prior knowledge about both evidence and phenomena.

## Diagraming for simulation modelling

A conceptual model can be expressed in various ways, such as lists of elements and relationships, schemes, and diagrams. Text or visual expressions are valid as long as they help us approach the design of a computational simulation model, facilitating the next stage (*implementation*).

Graphs are a powerful tool for representing complex systems. They can be used to represent:

- the structure of a system, the flow of information, or the flow of resources  
- the dynamics of a system, the interactions between agents, or the evolution of a system over time  
- the spatial structure of a system, the location of agents, or the movement of agents  
- the temporal structure of a system, the timing of events, or the duration of events  

Here, we will not force the use of conventions such as [UML](https://en.wikipedia.org/wiki/Unified_Modeling_Language), although these can be useful. Examples of UML diagrams can also offer inspiration, even if you don't learn their rules. Other, more specific conventions can also be very useful and relatively easy to learn:

::: {.grid}

::: {.g-col-6}
[Causal diagrams and "stocks and flows" or Forrester diagrams](https://en.wikipedia.org/wiki/System_dynamics): helpful in relating the change of aggregate variables (stocks) to parameters and other variables (flows).  

<a title="Adoption_CLD.gif:Apdevries at en.wikipedia
derivative work: Blleininger, CC BY-SA 3.0 &lt;http://creativecommons.org/licenses/by-sa/3.0/&gt;, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Adoption_CLD.svg"><img width="400px" alt="Adoption CLD" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Adoption_CLD.svg/512px-Adoption_CLD.svg.png?20100626011908"></a>
:::
::: {.g-col-6}
<a title="The original uploader was Apdevries at English Wikipedia., CC BY-SA 3.0 &lt;http://creativecommons.org/licenses/by-sa/3.0/&gt;, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Adoption_SFD.png"><img width="400px" alt="Adoption SFD" src="https://upload.wikimedia.org/wikipedia/commons/3/3b/Adoption_SFD.png?20140810144917"></a>
:::

::: {.g-col-6}
[Flowcharts](https://en.wikipedia.org/wiki/Flowchart): useful for representing flows of logic governed by a predetermined structure, especially when conditionals are involved (e.g. decision-making). In agent-based models, we will use it to describe modular *processes* that are applied to an entire model or to its entities and repeated every step in time.
:::
::: {.g-col-6}
<a title="svg by Booyabazookaoriginal png by Wapcaplet, CC BY-SA 3.0 &lt;http://creativecommons.org/licenses/by-sa/3.0/&gt;, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:LampFlowchart.svg"><img alt="A simple flowchart for troubleshooting a broken lamp." src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/LampFlowchart.svg/256px-LampFlowchart.svg.png?20220918192641"></a>
:::

:::

## Designing an explanatory mechanism

The selected explanation is never final, nor is it a declaration of subjective belief (*my* interpretation). It should be the spark and direction of an open-ended process where we order our background knowledge and beliefs in search of logical consistency (formalisation), contrast them with further evidence (validation), and revisit or extend them. 

The formalisation of an explanation is in fact the most challenging task in simulation modelling, especially in domains as complex as archaeology. It involves, first of all, a way of thinking that goes beyond any technical skill, training in mathematics or computing, or knowledge of jargon specific to one or another discipline. Therefore, it should be *practised* continuously rather than learned once.

If the chosen explanation is already present in formal models developed by others, we could probably skip this stage. However, using, adapting or combining formal models for your own research will require a deep understanding of the formalisation done and how it relates to the terms of your own evidence, question, etc. In this sense, we will have to be especially careful in selecting formalised mechanisms and applying them to domains very different from our topic. For example, a model describing resource exploitation by ant populations might be useful for depicting resource exploitation by human populations, but the adoption and adaptation of the model must be done with an awareness of the differences between these phenomena.
