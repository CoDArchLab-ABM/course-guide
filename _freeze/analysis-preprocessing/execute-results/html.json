{
  "hash": "5322ae9be2adc5bee2ff026ed02105ac",
  "result": {
    "engine": "knitr",
    "markdown": "# Loading and preparing simulation results {#analysis-preprocessing}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(readr)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexperiments_path <- \"assets/netlogo/experiments/Artificial Anasazi_experiments \"\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolor_mapping <- c(\"historical households\" = \"blue\", \n                   \"simulation households\" = \"darkred\")\n```\n:::\n\n\n## Single run\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexpname <- \"experiment single run\"\n```\n:::\n\n\nRead output:\n\n::: {.cell}\n\n```{.r .cell-code}\nresults_single <- readr::read_csv(paste0(experiments_path, expname, \"-table.csv\"), skip = 6)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 552 Columns: 11\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): map-view\ndbl (9): [run number], fertility, death-age, harvest-variance, fertility-end...\nlgl (1): historic-view?\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n\nPlot trajectories of metrics:\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_name <- paste0(experiments_path, expname, \"-trajectories.png\")\n\npng(plot_name, width = 840, height = 540)\n\nggplot(results_single) +  \n  geom_line(aes(x = `[step]`, y = `historical-total-households`, color = \"historical data\"),\n            linewidth = 1.2) +\n  geom_line(aes(x = `[step]`, y = `total-households`, color = \"simulation households\"),\n            linewidth = 1.2) +\n  labs(x = \"steps\", y = \"households\") +\n  scale_color_manual(name = \"\", values = color_mapping) +\n  theme(legend.position = \"right\")\n\ndev.off()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nsvg \n  2 \n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::include_graphics(plot_name)\n```\n\n::: {.cell-output-display}\n![](assets/netlogo/experiments/Artificial Anasazi_experiments experiment single run-trajectories.png)\n:::\n:::\n\n\n## Multiple runs in single configuration\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexpname <- \"experiment multiple runs\"\n```\n:::\n\n\nRead output:\n\n::: {.cell}\n\n```{.r .cell-code}\nresults_single <- readr::read_csv(paste0(experiments_path, expname, \"-table.csv\"), skip = 6)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 5520 Columns: 11\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): map-view\ndbl (9): [run number], fertility, death-age, harvest-variance, fertility-end...\nlgl (1): historic-view?\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n\nPlot trajectories of metrics:\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_name <- paste0(experiments_path, expname, \"-trajectories.png\")\n\npng(plot_name, width = 840, height = 540)\n\nggplot(results_single) +  \n  geom_line(aes(x = `[step]`, y = `total-households`, color = `[run number]`, group = `[run number]`),\n            linewidth = 1.2) +\n  geom_line(aes(x = `[step]`, y = `historical-total-households`), \n            color = color_mapping[\"historical households\"],\n            linewidth = 1.2, linetype = 2) +\n  labs(x = \"steps\", y = \"households\") +\n  theme(legend.position = \"right\")\n\ndev.off()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nsvg \n  2 \n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::include_graphics(plot_name)\n```\n\n::: {.cell-output-display}\n![](assets/netlogo/experiments/Artificial Anasazi_experiments experiment multiple runs-trajectories.png)\n:::\n:::\n\n\n## Parameter exploration - regular intervals\n\n### One parameter\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexpname <- \"experiment harvest adjustment\"\n```\n:::\n\n\nRead output:\n\n::: {.cell}\n\n```{.r .cell-code}\nresults_harvest_adj <- readr::read_csv(paste0(experiments_path, expname, \"-table.csv\"), skip = 6)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 104880 Columns: 11\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): map-view\ndbl (9): [run number], fertility, death-age, harvest-variance, fertility-end...\nlgl (1): historic-view?\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n\nPlot trajectories of metrics:\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_name <- paste0(experiments_path, expname, \"-trajectories.png\")\n\npng(plot_name, width = 840, height = 540)\n\nggplot(results_harvest_adj) +  \n  geom_line(aes(x = `[step]`, y = `total-households`, color = `harvest-adjustment`, group = `[run number]`),\n            linewidth = 1.2) +\n  geom_line(aes(x = `[step]`, y = `historical-total-households`), color = \"black\",\n            linewidth = 1.2, linetype = 2) +\n  labs(x = \"steps\", y = \"households\") +\n  theme(legend.position = \"right\")\n\ndev.off()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nsvg \n  2 \n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::include_graphics(plot_name)\n```\n\n::: {.cell-output-display}\n![](assets/netlogo/experiments/Artificial Anasazi_experiments experiment harvest adjustment-trajectories.png)\n:::\n:::\n\n\n### Two parameter\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexpname <- \"experiment harvest adjustment variance\"\n```\n:::\n\n\nRead output:\n\n::: {.cell}\n\n```{.r .cell-code}\nresults_harvest_adj <- readr::read_csv(paste0(experiments_path, expname, \"-table.csv\"), skip = 6)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 441600 Columns: 11\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): map-view\ndbl (9): [run number], fertility, death-age, harvest-variance, fertility-end...\nlgl (1): historic-view?\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n\nPlot trajectories of metrics:\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_name <- paste0(experiments_path, expname, \"-trajectories.png\")\n\npng(plot_name, width = 840, height = 540)\n\nggplot(results_harvest_adj) +  \n  geom_line(aes(x = `[step]`, y = `total-households`, group = `[run number]`),\n            color = color_mapping[\"simulation households\"],\n            linewidth = 1.2) +\n  geom_line(aes(x = `[step]`, y = `historical-total-households`), \n            color = color_mapping[\"historical households\"],\n            linewidth = 1.2, linetype = 2) +\n  facet_grid(`harvest-adjustment` ~ `harvest-variance`) +\n  labs(x = \"steps\", y = \"households\") +\n  theme(legend.position = \"right\")\n\ndev.off()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nsvg \n  2 \n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::include_graphics(plot_name)\n```\n\n::: {.cell-output-display}\n![](assets/netlogo/experiments/Artificial Anasazi_experiments experiment harvest adjustment variance-trajectories.png)\n:::\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}