<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Agent-based modelling for archaeologists. From concept to application and publication - 4&nbsp; Conceptual design or modeling</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./concept-pond-trade.html" rel="next">
<link href="./intro-abm-method.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="assets/styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./concept-intro-pop-dyn.html">Conceptual modelling</a></li><li class="breadcrumb-item"><a href="./concept-intro-pop-dyn.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Conceptual design or modeling</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Agent-based modelling for archaeologists. From concept to application and publication</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/CoDArchLab-ABM/course-guide/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course overview</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-abm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to ABM</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-abm-arch.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">ABM in archaeology</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-abm-method.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">How to do ABM</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Conceptual modelling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./concept-intro-pop-dyn.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Conceptual design or modeling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./concept-pond-trade.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Conceptual design or modeling: the Pond Trade model</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Model repository with Git and GitHub</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./git-github-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Git and GitHub</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./git-github-practice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Creating your model repository</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Knowing the software: NetLogo</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./netlogo-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Introduction to NetLogo</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./netlogo-language-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">NetLogo language basics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./netlogo-practice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Getting started with NetLogo</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">Pond Trade</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pond-trade-agent-definition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Defining and initialising agents</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pond-trade-agent-ai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Programming agent AI</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pond-trade-mechanims.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Implementing mechanisms</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pond-trade-cultural-vectors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Implementing complex agents</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pond-trade-stats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Implementing output statistics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
 <span class="menu-text">Messara Trade</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./messara-gis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Importing spatial data: elevation and site data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./messara-water-flow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Calculating water flow accumulation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./messara-weather.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Importing time series: weather data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./messara-soil-water.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Integrating a submodel</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./messara-routes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Scaling up route calculation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./messara-pond-trade.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">The MesaraTrade model</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
 <span class="menu-text">After the storm</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./post-experiments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Experimental design in simulation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./post-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Analysis of simulation results</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">4.1</span> Introduction</a></li>
  <li><a href="#considering-archaeological-evidence-and-its-interpretations-explanations" id="toc-considering-archaeological-evidence-and-its-interpretations-explanations" class="nav-link" data-scroll-target="#considering-archaeological-evidence-and-its-interpretations-explanations"><span class="header-section-number">4.2</span> Considering archaeological evidence and its interpretations (<em>explanations</em>)</a></li>
  <li><a href="#diagraming-for-simulation-modelling" id="toc-diagraming-for-simulation-modelling" class="nav-link" data-scroll-target="#diagraming-for-simulation-modelling"><span class="header-section-number">4.3</span> Diagraming for simulation modelling</a></li>
  <li><a href="#designing-an-explanatory-mechanism" id="toc-designing-an-explanatory-mechanism" class="nav-link" data-scroll-target="#designing-an-explanatory-mechanism"><span class="header-section-number">4.4</span> Designing an explanatory mechanism</a></li>
  <li><a href="#example-settlement-size-population-and-migration" id="toc-example-settlement-size-population-and-migration" class="nav-link" data-scroll-target="#example-settlement-size-population-and-migration"><span class="header-section-number">4.5</span> Example: Settlement size, population and migration</a>
  <ul class="collapse">
  <li><a href="#towards-a-balance-between-representation-and-complexity" id="toc-towards-a-balance-between-representation-and-complexity" class="nav-link" data-scroll-target="#towards-a-balance-between-representation-and-complexity"><span class="header-section-number">4.5.1</span> Towards a balance between representation and complexity</a></li>
  <li><a href="#reusing-consolidated-structures" id="toc-reusing-consolidated-structures" class="nav-link" data-scroll-target="#reusing-consolidated-structures"><span class="header-section-number">4.5.2</span> Reusing consolidated structures</a></li>
  <li><a href="#adding-feedback-loops" id="toc-adding-feedback-loops" class="nav-link" data-scroll-target="#adding-feedback-loops"><span class="header-section-number">4.5.3</span> Adding feedback loops</a></li>
  <li><a href="#expressing-conditions-as-logic-bifurcations" id="toc-expressing-conditions-as-logic-bifurcations" class="nav-link" data-scroll-target="#expressing-conditions-as-logic-bifurcations"><span class="header-section-number">4.5.4</span> Expressing conditions as logic bifurcations</a></li>
  <li><a href="#representing-distributed-and-social-mechanisms" id="toc-representing-distributed-and-social-mechanisms" class="nav-link" data-scroll-target="#representing-distributed-and-social-mechanisms"><span class="header-section-number">4.5.5</span> Representing distributed and social mechanisms</a></li>
  </ul></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn"><span class="header-section-number">4.6</span> Your turn</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/CoDArchLab-ABM/course-guide/edit/main/concept-intro-pop-dyn.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./concept-intro-pop-dyn.html">Conceptual modelling</a></li><li class="breadcrumb-item"><a href="./concept-intro-pop-dyn.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Conceptual design or modeling</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="concept-pop" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Conceptual design or modeling</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">4.1</span> Introduction</h2>
<p>The objective of this session is to introduce the first and most important stage in the application of simulation, <strong>system definition</strong> and <strong>model design</strong>, to archeology topics.</p>
<p>Given a general topic of interest associated with a certain type of archaeological evidence, we must produce a conceptual model that contains a definition of the minimum features of a phenomenon or system (<em>representation</em>), with a view to its mathematical formalization (<em>mechanism</em>). so that it contributes to the answer to one or more research questions or to refute or reformulate a working hypothesis (<em>validation</em>).</p>
<figure class="figure">
<img src="https://github.com/Andros-Spica/modelling-simulation-graphs/blob/main/representation-and-validation/representation-and-validation.png?raw=true" alt="representation and validation in explanatory models in archaeology" class="fragment figure-img" style="width: 550px; border: none; box-shadow: none; margin-bottom: 0%; background-color: azure;"><br> <fig-caption>representation and validation in explanatory models in archaeology</fig-caption>
</figure>
<p>Conceptual modelling reflects the exploratory nature of explanatory modelling. In this context, we should consider the maximum number of potential explanations and subsequently prioritise those that are arguably or demonstrably more likely, all given the limits of our knowledge. In building a model, we should include additional elements parsimoniously and keep in mind that this conceptual definition should help us in creating a computational model (<em>implementation</em>) that is intelligible and computable in a reasonable period of time.</p>
<p>When creating your first conceptual model, I recommend starting from scratch with the first intuition that comes to mind. After later scrutiny, its logic structure may be oversimplified, incomplete, or faulty. However, it would most likely represent the main elements of an informal model that you and other researchers share. Relying on an informed guess to start model development is the best remedy for the “blank page panic”. It will also help you avoid overthinking and overworking what should be a mere preliminary sketch of the model.</p>
<p>Said this, we might still suffer when trying to jump-start the modelling process. Even if (or maybe especially when) a sizeable interdisciplinary team is involved, such is often the case in ABM-related projects.</p>
</section>
<section id="considering-archaeological-evidence-and-its-interpretations-explanations" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="considering-archaeological-evidence-and-its-interpretations-explanations"><span class="header-section-number">4.2</span> Considering archaeological evidence and its interpretations (<em>explanations</em>)</h2>
<p>Archaeological evidence can be interpreted to understand past phenomena, and these interpretations often involve proposing underlying mechanisms. The relationship between evidence, phenomenon, and mechanism can be understood as follows:</p>
<ul>
<li><p><strong>Evidence</strong>: This refers to the physical remains or data that archaeologists uncover. This can include artifacts, structures, or environmental data. Pieces of evidence vary in level of description, from pottery styles to the position of fortifications and the abundance of animal species. They also vary in the methods used to define them, like visual analysis, geometric analysis, 3D scanning, and GPS.</p></li>
<li><p><strong>Phenomenon</strong>: The phenomenon is the pattern or process inferred from the evidence. It is the “what” that happened, based on the interpretation of the evidence, but also the benchmark definition of reality, based in a much longer list of experiences and confirmed knowledge. For instance, variations in pottery style can represent exchange, the position of fortifications can represent strategic decision-making, and a decrease in a wild animal population can represent human hunting.</p></li>
<li><p><strong>Mechanism</strong>: The mechanism is the causal explanation of why the phenomenon occurred. It involves identifying the processes or interactions that led to the observed pattern. This is the “why” behind the phenomenon. Mechanisms are expressed through causal relationships between variables, often including underlying assumptions. For example, variations in pottery styles can be explained by increased trade with another region, the positioning of fortifications can be explained by differential visibility, and a decrease in animal population can be explained by overhunting.</p></li>
</ul>
<p>The following table offers some additional examples:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">archaeological evidence</th>
<th style="text-align: left;">phenomena in the past</th>
<th style="text-align: left;">mechanisms</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">distribution and size of settlements</td>
<td style="text-align: left;">subsistence, demographic growth dependent on environmental factors, mobility and sedentary lifestyle</td>
<td style="text-align: left;"><a href="https://es.wikipedia.org/wiki/Funci%C3%B3n_log%C3%ADstica">logistic function</a>, areas of influence and catchment, competition between settlements</td>
</tr>
<tr class="even">
<td style="text-align: left;">funerary context (number and style of artifacts, determination of age and sex, morphological and genetic proximity between individuals, etc.)</td>
<td style="text-align: left;">ritual burial of certain individuals (beliefs, population composition, asymmetries and inequalities, etc.), mortality (frequency, contexts), decision making and logistics regarding funerary practice</td>
<td style="text-align: left;">institutionalization of prestige and authority status, effects of taboo on logistical stages of burial, inequality between kinship groups</td>
</tr>
<tr class="odd">
<td style="text-align: left;">detection of organic residues on the surface of ceramic vessels</td>
<td style="text-align: left;">production (surface treatment) and use of vessels (storage, cooking, food consumption), decision making in production, selection of recipes and dietary components</td>
<td style="text-align: left;">residue signal (quantified) as a function of type of use</td>
</tr>
<tr class="even">
<td style="text-align: left;">distribution and diversity of varieties of a very common type of artifact (lithic instruments, ceramics, etc.)</td>
<td style="text-align: left;">movements of people and artifacts, cultural transmission of ways of producing and/or using said artifacts</td>
<td style="text-align: left;">cultural transmission (drift), prestige and functional selection</td>
</tr>
<tr class="odd">
<td style="text-align: left;">frequency of species in charcoal between the strata of a deposit</td>
<td style="text-align: left;">climate changes that limit or enhance growth by species, selective size, fires, deforestation</td>
<td style="text-align: left;">plant growth by species group that explicitly accounts for recurrent clearing</td>
</tr>
<tr class="even">
<td style="text-align: left;">oldest C14 dating of the presence of domesticated plants and animals in sites distributed throughout a region</td>
<td style="text-align: left;">demographic growth and migration, interaction between groups with and without domestication (exchange, assimilation, conflict, etc.)</td>
<td style="text-align: left;">competition for habitat between agropastoral groups and hunter-gatherers</td>
</tr>
<tr class="odd">
<td style="text-align: left;">volume of a mineral extracted in a deposit with mining, duration of occupation and activity</td>
<td style="text-align: left;">subsistence and liberation of labor, decision making on mining intensity, use and exchange of minerals</td>
<td style="text-align: left;">economy of scale and diminishing returns</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>There are at least three ways to begin this stage:</p>
<ul>
<li><strong>From evidence to mechanism</strong> (from left to right in the table): You may prefer to first think about a set of types of archaeological evidence, perhaps a type that one is most familiar with or that can be found in a specific site or dataset. Once the evidence is delimited, you can then identify what is the most likely and/or stronger explanation, first in terms of phenomenon and then as a generative process (left to right in the table). With enough effort and time, the worse case scenario when taking this path is to obtain a weak explanatory model, one that does not offer a realistic representation of a phenomenon, but might as well give further insight on patterns of evidence (i.e., a descriptive model).<br>
</li>
<li><strong>From phenomenon to evidence to mechanism</strong> (middle to left and right in the table): Also, look for or formulate a mechanism that satisfactorily represents the phenomenon, as previously defined (middle to left and right in the table). it is equally valid to start by considering a phenomenon that has been abundantly documented, studied and defined in other disciplines (e.g., trade, from an understanding in economics and anthropology). In choosing a phenomenon, you must be able to assume it existed in a certain context in the past and that there are domains of evidence that could support or undermine such explanation. The worse case scenario here would be to have a “toy model”, one that represents the current knowledge of a phenomenon and can be used to investigate it, but cannot be easily assumed for the past nor is directly validated with archaeological evidence.<br>
</li>
<li><strong>From mechanism to phenomenon and evidence</strong> (right to left in the table): The last and more opportunistic option is to focus first on a mechanism that has already been described and/or formalised, consider a phenomenon it can represent and search for a type of evidence where signals of this mechanism can be detected. Taking this path demands a certain knowledge of modelling and models, preferably in multiple fields and disciplines, but it is actually a relatively safe path: the worse case is to end up concluding that the selected mechanism, alone at least, does not explain the patterns observed in the selected evidence – a small, but steady contribution.</li>
</ul>
<p>In all routes, there are <strong>no shortcuts</strong>: the robustness of the explanation will depend on the depth and width of the prior knowledge about both evidence and phenomena.</p>
</section>
<section id="diagraming-for-simulation-modelling" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="diagraming-for-simulation-modelling"><span class="header-section-number">4.3</span> Diagraming for simulation modelling</h2>
<p>A conceptual model can be expressed in various ways; for example as lists of elements and relationships, schemes, diagrams, etc. Text or visual expression are valid as long as they help us approach the designing of a computational simulation model, facilitating the next stage (<em>implementation</em>).</p>
<p>Here, we will not force the use of conventions such as <a href="https://en.wikipedia.org/wiki/Unified_Modeling_Language">UML</a>, although these can be useful. Examples of UML diagrams can also offer inspiration, even if you don’t learn their rules. Other more specific conventions can also be very useful and relatively easy to learn:</p>
<div class="grid">
<div class="g-col-6">
<p><a href="https://en.wikipedia.org/wiki/System_dynamics">Causal diagrams and “stocks and flows” or Forrester diagrams</a>: useful for relating the change of aggregate variables (stocks) to parameters and other variables (flows).</p>
<p><a title="Adoption_CLD.gif:Apdevries at en.wikipedia
derivative work: Blleininger, CC BY-SA 3.0 <http://creativecommons.org/licenses/by-sa/3.0/>, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Adoption_CLD.svg"><img width="400px" alt="Adoption CLD" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Adoption_CLD.svg/512px-Adoption_CLD.svg.png?20100626011908"></a></p>
</div>
<div class="g-col-6">
<p><a title="The original uploader was Apdevries at English Wikipedia., CC BY-SA 3.0 <http://creativecommons.org/licenses/by-sa/3.0/>, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Adoption_SFD.png"><img width="400px" alt="Adoption SFD" src="https://upload.wikimedia.org/wikipedia/commons/3/3b/Adoption_SFD.png?20140810144917"></a></p>
</div>
<div class="g-col-6">
<p><a href="https://en.wikipedia.org/wiki/Flowchart">Flowcharts</a>: useful for representing flows of logic governed by a predetermined structure, especially when conditionals are involved (e.g.&nbsp;decision-making). In agent-based models, we will use it to describe modular <em>processes</em> that be applied to an entire model or to its entities and repeated every step in time.</p>
</div>
<div class="g-col-6">
<p><a title="svg by Booyabazookaoriginal png by Wapcaplet, CC BY-SA 3.0 <http://creativecommons.org/licenses/by-sa/3.0/>, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:LampFlowchart.svg"><img alt="A simple flowchart for troubleshooting a broken lamp." src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/LampFlowchart.svg/256px-LampFlowchart.svg.png?20220918192641"></a></p>
</div>
</div>
</section>
<section id="designing-an-explanatory-mechanism" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="designing-an-explanatory-mechanism"><span class="header-section-number">4.4</span> Designing an explanatory mechanism</h2>
<p>The selected explanation is never final, nor it is a declaration of subject belief (<em>my</em> interpretation). It should be the spark and direction of an open-ended process where we order our background knowledge and beliefs in search of logical consistency (formalisation), contrast them with further evidence (validation), and revisit or extend them.</p>
<p>The formalisation of an explanation is in fact the most challenging task in simulation modelling, especially in domains as complex as archaeology. It involves, first of all, a way of thinking that goes beyond any technical skill, training in mathematics or computing, or knowledge of jargon specific to one or another discipline. Therefore, it should be <em>practised</em> continuously rather than learned once.</p>
<p>If the chosen explanation is already present in formal models developed by others, we could probably skip this stage. However, using, adapting or combining formal models for your own research will require a deep understanding of the formalisation done and how it relates to the terms of your own evidence, question, etc. In this sense, we will have to be especially careful in selecting formalized mechanisms and applying them to domains very different from our topic. For example, a model describing resource exploitation by ant populations might be useful for depicting resource exploitation by human populations, but the adoption and adaptation of the model must be done with an awareness of the differences between these phenomena.</p>
</section>
<section id="example-settlement-size-population-and-migration" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="example-settlement-size-population-and-migration"><span class="header-section-number">4.5</span> Example: Settlement size, population and migration</h2>
<p>As an example, let us imagine that in our research we postulate that:</p>
<blockquote class="blockquote">
<p>the increase in the built-up area of an archaeological site, which we assumed to be a settlement, is explained by population growth due to migratory influx.</p>
</blockquote>
<p>This general idea could be expressed more schematically as a set of <strong>cases</strong> or <strong>scenarios</strong>. Here we are limited to two:</p>
<blockquote class="blockquote">
<p>↑ immigration → ↑ population → ↑ settlement size<br>
↓ immigration → ↓ population → ↓ settlement size</p>
</blockquote>
<p>We can also simplify this by sketching a causal diagram, a graph where the nodes are the “things” that change (the <em>variables</em>), the arrows mark the direction of the effect or <em>causality</em>, and their sign (+ or -), the sense of the effect (positive or negative):</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/images/conceptual-model-example-1.png" class="img-fluid figure-img"></p>
<figcaption>initial conceptual model example</figcaption>
</figure>
</div>
<p>If we are comfortable with algebra, we could try to translate it to:</p>
<blockquote class="blockquote">
<p>settlementSize = <em>f</em>(population) = <em>f</em>( <em>g</em>(immigration) )</p>
</blockquote>
<p>or</p>
<blockquote class="blockquote">
<p>settlementSize = <em>f</em>(population)<br>
population = <em>g</em>(immigration)</p>
</blockquote>
<p>where <em>f</em> and <em>g</em> are functions, yet to be defined.</p>
<p>Such expressions rephrases the original explanation in a way that is more amenable to formalisation. They read as:</p>
<blockquote class="blockquote">
<p>Settlement size (variable) is a function (depends on) population (variable).<br>
Population (variable) is a function (depends on) immigration (variable).</p>
</blockquote>
<p>Without equations to define <em>f</em> and <em>g</em>, our causal graph actually expresses more content by reading:</p>
<blockquote class="blockquote">
<p>Settlement size (variable) is a function (depends on) population (variable) as a positive term (+).<br>
Population (variable) is a function (depends on) immigration (variable) as a positive term (+).</p>
</blockquote>
<section id="towards-a-balance-between-representation-and-complexity" class="level3" data-number="4.5.1">
<h3 data-number="4.5.1" class="anchored" data-anchor-id="towards-a-balance-between-representation-and-complexity"><span class="header-section-number">4.5.1</span> Towards a balance between representation and complexity</h3>
<p>Is this a satisfactory description of our explanation? Does it leave out something we implicitly assumed with our first informal explanation? Is it going too far, stating something that we did not intend in the first place? The criteria for answering these questions pushes us away from the informal explanation and into the realm of <strong>logic</strong> and a broader <strong>contextual knowledge</strong>.</p>
<p>In our example, we can immediately detect that our variables must be expressed in at least two different units (e.g., <span class="math inline">\(m^{2}\)</span> and individuals). We must add a parameter (a variable that remains constant throughout the process) to convert (amounts of) population into (amounts of) settlement size. We will call it <em>areaPerInhabitant</em>:</p>
<blockquote class="blockquote">
<p>settlementSize = <em>f</em>(areaPerInhabitant * population)</p>
</blockquote>
<p>Furthermore, we may find it insufficient to describe population change by considering only immigration (i.e., <em>g</em>(immigration)). You cannot tell how many apples are in a basket by just counting the ones you add. That is, we need an initial population:</p>
<blockquote class="blockquote">
<p>population = <em>g</em>(<strong>initialPopulation</strong>, immigration)</p>
</blockquote>
<p>Following the same reasoning, we should also consider that variables can change intrinsically (i.e., independently of <em>g</em>(immigration)) over time:</p>
<blockquote class="blockquote">
<p>settlementSize = <em>f</em>(areaPerInhabitant * population, <strong>time</strong>)<br>
population = <em>g</em>(initialPopulation, immigration, <strong>time</strong>)</p>
</blockquote>
<p>If settlement size and population change over time, would immigration change as well? If so, then we will also need to consider an additional term, the parameter that determines the rate of change in immigration:</p>
<blockquote class="blockquote">
<p>settlementSize = <em>f</em>(population, <strong>time</strong>)<br>
population = <em>g</em>(initialPopulation, immigration, <strong>time</strong>)<br>
immigration = <em>h</em>(immigrationRate, <strong>time</strong>)</p>
</blockquote>
<p>Our causal graph will be at this point considerably different, even when we assume time as implicit to all variables:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/images/conceptual-model-example-2.png" class="img-fluid figure-img"></p>
<figcaption>Conceptual model after adding a few parameters</figcaption>
</figure>
</div>
<p>After a few iterations of this reasoning process, our formal expressions will most certainly grow in complexity. The more variables and parameters in such an explanatory model, the more realism and richness of scenarios it will allow. However, variables and parameters should be then controlled by evidence or at least defined in a meaningfully way.</p>
<p>Remember, while defining a parameter adds complexity, it also marks the point in a branch of thought where modelling <em>stops</em>, that is, where something that could be certainly described as complex and dynamic is reduced to a fixed value.</p>
<p>It is up to you, in light of the context and research questions, to decide when to sacrifice the <em>representativeness</em> of your model to ensure that it can be <em>implemented</em>, <em>understood</em>, and <em>validated</em> in the future.</p>
</section>
<section id="reusing-consolidated-structures" class="level3" data-number="4.5.2">
<h3 data-number="4.5.2" class="anchored" data-anchor-id="reusing-consolidated-structures"><span class="header-section-number">4.5.2</span> Reusing consolidated structures</h3>
<p>When we are satisfied with a structure in our formalism, we could reuse it to extend the model to represent similar or symmetrical aspects of the phenomena, without repeating the previous steps or making it less intelligible. For example, if our model considers immigration as a cause, we could also take into account an emigration flow with an opposite effect over the population.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/images/conceptual-model-example-3.png" class="img-fluid figure-img"></p>
<figcaption>Conceptual model after structure duplication</figcaption>
</figure>
</div>
</section>
<section id="adding-feedback-loops" class="level3" data-number="4.5.3">
<h3 data-number="4.5.3" class="anchored" data-anchor-id="adding-feedback-loops"><span class="header-section-number">4.5.3</span> Adding feedback loops</h3>
<p>When representing processes, we must keep in mind that causality is not necessarily an unilateral relationship. Since we are factoring in the passage of time, a variable can be modelled to affect itself (in the future) or other variables that have previously influenced its value.</p>
<p>For example, given our background knowledge about <em>population pressure</em>, let’s stipulate that population positively affects the amount of emigration at a given time:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/images/conceptual-model-example-4.png" class="img-fluid figure-img"></p>
<figcaption>Conceptual model after adding a two-variable feedback loop</figcaption>
</figure>
</div>
<p>Reading:<br>
&gt;Population (variable) is a function (depends on) emigration (variable) as a negative term (-).<br>
&gt;Emigration (variable) is a function (depends on) population (variable) as a positive term (+).</p>
<p>With this idea, we can replace the parameter “initial population” with an positive loop (population-population), i.e.&nbsp;initial population will simply be the value of population at the first time step. We can also improve our representation of how a real population by defining a component of the growth rate that is independent of migration flows (<em>natural increase</em>).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/images/conceptual-model-example-5.png" class="img-fluid figure-img"></p>
<figcaption>Conceptual model after adding a one-variable feedback loop</figcaption>
</figure>
</div>
<p>With this level of formalisation and complexity, our model will start to get quite close to a fully specified and implemented simulation model within the framework of <a href="https://en.wikipedia.org/wiki/System_dynamics">system dynamics</a>. If we were to stay in this framework, we could already write down a preliminary implementation as a set of two difference equations:</p>
<blockquote class="blockquote">
<p>population = naturalGrowthRate * population + immigrationRate - emmigrationRate * population<br>
settlementSize = areaPerInhabitant * population</p>
</blockquote>
<p>Through a look at the causal diagram and the equations, we can visualise what aspects are detailed or simplified in our model. In this example, the model is clearly focusing more on <strong>population dynamics</strong> as the motor of settlement change, rather than other process that could be mediating population and settlement size (e.g., procurement of materials, construction, labour organisation, cohabitation social norms). It is important to decide whether this is desirable or not before continuing adding new elements to the model.</p>
</section>
<section id="expressing-conditions-as-logic-bifurcations" class="level3" data-number="4.5.4">
<h3 data-number="4.5.4" class="anchored" data-anchor-id="expressing-conditions-as-logic-bifurcations"><span class="header-section-number">4.5.4</span> Expressing conditions as logic bifurcations</h3>
<p>More often than not, explanations cannot be formalised solely with causal graphs and algebraic expressions like the ones above. One of the most common cases is when we want to represent a process that only occurs if certain conditions are met: a logical bifurcation or branching.</p>
<p>Imagine, for example, that our migration-driven population model must take into account the combined effect of two factors:</p>
<ol type="1">
<li>the political relationship between this and neighbours (friendly/hostile)<br>
</li>
<li>the general state of prosperity in the settlement (e.g.&nbsp;a combined factor of subsistence, well-being and raw material availability), summarised with a binary classification between <em>good</em> and <em>bad</em> times.</li>
</ol>
<p>The introduction of the first factor can be simple: a hostile relationship will prevent any migration flow, incoming or outgoing. The corresponding diagram, now expressed as a flowchart, could be:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/images/conceptual-model-example-6.png" class="img-fluid figure-img"></p>
<figcaption>Conceptual model after adding one logic bifurcation</figcaption>
</figure>
</div>
<p>The second factor will create yet another bifurcation, relevant only if the settlement’s neighborhood is <em>friendly</em>. If times are <em>good</em>, we will assume that immigration is triggered, because the settlement is attractive for new residents. If times are <em>bad</em>, emigration is triggered instead, to represent the growing number of inhabitants who are unsatisfied with local living conditions.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/images/conceptual-model-example-7.png" class="img-fluid figure-img"></p>
<figcaption>Conceptual model after adding two logic bifurcations</figcaption>
</figure>
</div>
<p>The more your formal model is composed of algorithms (discontinuous operations) rather than equations (continuous operations), the more complicated it will be to use causal diagrams and the easier it will be to use of flowcharts and other specialised diagrams (e.g.&nbsp;UML). However, when it comes to model development and communication, <strong>ANY diagram is better than NO diagram or conceptual formalism at all</strong>.</p>
</section>
<section id="representing-distributed-and-social-mechanisms" class="level3" data-number="4.5.5">
<h3 data-number="4.5.5" class="anchored" data-anchor-id="representing-distributed-and-social-mechanisms"><span class="header-section-number">4.5.5</span> Representing distributed and social mechanisms</h3>
<p>If we are looking for a formal model capable of accounting for distributed processes (occurring in parallel through the action of multiple entities) and more complex social mechanisms (i.e.&nbsp;multi-dimensional, non-linear), our conceptual model should move towards an <strong>object</strong>-based and, eventually, <strong>agent</strong>-based framework. There are many ways to represent distributed processes, such as formulating variables as <strong>vectors</strong> and <strong>matrices</strong>, if equations are still a viable format, or drawing flowcharts for prescribing the behaviour of entities and their potential interaction.</p>
<p>If our population model were to be formulated as agent-based, considering households as the main units of the process, we would need to define their behaviour in a way that, in aggregate, still represents the essence of the causal relationship we seek to formalise:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/images/conceptual-model-example-8.png" class="img-fluid figure-img"></p>
<figcaption>Conceptual model after conversion to agent-based</figcaption>
</figure>
</div>
<p>Notice that once the process is conceptualised as distributed, it will be increasingly harder to keep the description of the conceptual model in a single formal expression or diagram. In the example above, we choose to simplify the diagram by referencing entire chunks of our model by a single meaningful name (e.g., “reproduce”). These named chunks are the best candidates to be implemented later on as functions: a bundle of operations that can take inputs and return outputs.</p>
<p>For example, let us define “reproduce” as a decision on whether a household will branch a new one given that a certain probability threshold, called household fission rate, a household-level parameter replacing the population-level natural growth rate:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/images/conceptual-model-example-9.png" class="img-fluid figure-img"></p>
<figcaption>Conceptual model after conversion to agent-based</figcaption>
</figure>
</div>
<p>Remember, specifications can be at this stage still quite vague and undefined. For example, how should we evaluate if household fission rate is big enough? Moreover, observe how, yet again, we rely on the promise of a new function, household fission. Thinking of functions in terms of <strong>modules</strong> can help us expand our conceptual model without getting stuck on details that will only be truly handled once we moved to implementation.</p>
</section>
</section>
<section id="your-turn" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="your-turn"><span class="header-section-number">4.6</span> Your turn</h2>
<p>To have your own experience in conceptual modelling for simulation, you will need:</p>
<ul>
<li><p>Pen and paper or your preferred sketching digital platform (tablet, laptop).</p></li>
<li><p>A subject of interest in archaeology, preferably one that you know or have thought about in terms of explanations. Alternatively, you can select a model that has been explained verbally, but never formalised; for example, a written description of an explanation in a paper or book chapter. Remember, explanation means here that evidence is associated to a phenomenon, a process, and a mechanism (causal relationships).</p></li>
</ul>
<p>You may work in groups, as long as everyone is actually interested on the chosen topic.</p>
<p>Choose well, and you may continue developing it in the implementation step!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./intro-abm-method.html" class="pagination-link" aria-label="How to do ABM">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">How to do ABM</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./concept-pond-trade.html" class="pagination-link" aria-label="Conceptual design or modeling: the Pond Trade model">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Conceptual design or modeling: the Pond Trade model</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/CoDArchLab-ABM/course-guide/edit/main/concept-intro-pop-dyn.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></div></div></footer></body></html>